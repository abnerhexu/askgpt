# `askgpt` ‚Äî A CLI Tool for Interacting with GPT-style APIs

[ÁÆÄ‰Ωì‰∏≠Êñá](readme-zh.md)

`askgpt` is a lightweight, privacy-conscious command-line interface that lets you interact with GPT-compatible APIs (e.g., OpenAI, Azure OpenAI, or custom endpoints) directly from your terminal. It supports common tasks like translation, summarization, and explanation out of the box‚Äîwhile also allowing free-form prompts and multi-turn conversations.

Built in Go, it emphasizes simplicity, configurability, and streaming responses for a responsive user experience.

---

## ‚ú® Features

- **Task shortcuts**:  
  Use built-in prompts for common NLP tasks:
  - `translate-en` ‚Äî Translate to English
  - `translate-zh` ‚Äî Translate to Chinese
  - `summarize` ‚Äî Summarize content
  - `explain` ‚Äî Explain technical or complex text

- **Streaming responses**: See output token-by-token in real time.

- **Multi-line & paste mode**:  
  - Continue input across lines with a trailing `\`
  - Enter `:paste` to paste large blocks (end with `:end`)

- **Persistent configuration**:  
  Config stored securely at `~/.askgpt/config.yaml` with 600 permissions.

- **Flexible config format**:  
  Supports both mapping and list-of-maps YAML styles for user-friendliness.

- **Self-documenting CLI**:  
  Includes `show-config`, `set-url`, `set-model`, and `set-key` subcommands.

---

## üöÄ Installation

### From Source (requires Go 1.21+)

```sh
go install github.com/abnerhexu/askgpt@latest
```


The binary will be placed in `$GOPATH/bin/askgpt`.


---

## ‚öôÔ∏è Configuration

On first run, `askgpt` creates a config file at:

```
~/.askgpt/config.yaml
```

Example config (automatically generated):

```yaml
# askgpt config
# You can edit this file directly, or use: askgpt set-url | set-model | set-key
askgpt:
  - url: https://api.openai.com/v1/chat/completions
  - model: gpt-4o-mini
  - key: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

> üîí The file is created with `0600` permissions to protect your API key.

### Set config via CLI

```sh
askgpt set-url https://api.openai.com/v1/chat/completions
askgpt set-model gpt-4o-mini
askgpt set-key sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

## ‚å®Ô∏è Autocompletion

`askgpt` supports autocompletion for `bash`, `zsh`, and `fish`.

### Bash
Add the following to your `~/.bashrc`:
```bash
source <(askgpt completion bash)
```

### Zsh
Generate the completion script and place it in a directory within your `$fpath`:
```zsh
askgpt completion zsh > _askgpt
mv _askgpt /path/to/your/fpath/
```

### Fish
Add the following to your `~/.config/fish/config.fish` or run directly:
```fish
askgpt completion fish | source
```

---

## üß™ Usage

### Basic Task

```sh
askgpt summarize
> The quick brown fox jumps over the lazy dog...
```

### Free-form Prompt

Treat the task name as your initial prompt:

```sh
askgpt "Explain quantum entanglement in simple terms"
> [Enter or use :paste for multi-line]
```

### View Current Config

```sh
askgpt show-config
```

### Multi-turn Conversation

After the first response, you can continue chatting:
- Type your next message
- Use `quit` to exit
- Empty lines are ignored

---

## üìù Input Tips

- **Single line**: Type and press `Enter`.
- **Multi-line**: End a line with `\` to continue.
- **Paste mode**: Type `:paste`, paste your content, then type `:end` on its own line.
- **Exit**: Type `quit` at any prompt.

---

## üîê Security Notes

- Your API key is stored **only** in `~/.askgpt/config.yaml` with restrictive permissions (`rw-------`).
- The tool never logs or transmits your prompts beyond the configured API endpoint.
- Always use HTTPS endpoints.

---

## üõ† Development

To build from source:

```sh
git clone https://github.com/abnerhexu/askgpt.git
cd askgpt
go build -o askgpt .
```

---

## üìú License

GPLv3 License ‚Äî see [LICENSE](LICENSE) for details.

---

## üôå Acknowledgements

- Uses [`gopkg.in/yaml.v3`](https://pkg.go.dev/gopkg.in/yaml.v3) for flexible YAML parsing.
- Inspired by tools like `curl`, `httpie`, and `chatgpt-cli`.
- This document is generated by Qwen3-Max.
---

> üí° Suggestions or bug reports? Please open an issue or submit a PR!