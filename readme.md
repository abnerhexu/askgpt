# `askgpt` â€” A CLI Tool for Interacting with GPT-style APIs

[ç®€ä½“ä¸­æ–‡](readme-zh.md)

`askgpt` is a lightweight, privacy-conscious command-line interface that lets you interact with GPT-compatible APIs (e.g., OpenAI, Azure OpenAI, or custom endpoints) directly from your terminal. It supports common tasks like translation, summarization, and explanation out of the boxâ€”while also allowing free-form prompts and multi-turn conversations.

Built in Go, it emphasizes simplicity, configurability, and streaming responses for a responsive user experience.

---

## âœ¨ Features

- **Task shortcuts**:  
  Use built-in prompts for common NLP tasks:
  - `translate-en` â€” Translate to English
  - `translate-zh` â€” Translate to Chinese
  - `summarize` â€” Summarize content
  - `explain` â€” Explain technical or complex text

- **Streaming responses**: See output token-by-token in real time.

- **Multi-line & paste mode**:  
  - Continue input across lines with a trailing `\`
  - Enter `:paste` to paste large blocks (end with `:end`)

- **Persistent configuration**:  
  Config stored securely at `~/.askgpt/config.yaml` with 600 permissions.

- **Flexible config format**:  
  Supports both mapping and list-of-maps YAML styles for user-friendliness.

- **Self-documenting CLI**:  
  Includes `show-config`, `set-url`, `set-model`, and `set-key` subcommands.

---

## ğŸš€ Installation

### From Source (requires Go 1.21+)

```sh
go install github.com/abnerhexu/askgpt@latest
```


The binary will be placed in `$GOPATH/bin/askgpt`.


---

## âš™ï¸ Configuration

On first run, `askgpt` creates a config file at:

```
~/.askgpt/config.yaml
```

Example config (automatically generated):

```yaml
# askgpt config
# You can edit this file directly, or use: askgpt set-url | set-model | set-key
askgpt:
  - url: https://api.openai.com/v1/chat/completions
  - model: gpt-4o-mini
  - key: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

> ğŸ”’ The file is created with `0600` permissions to protect your API key.

### Set config via CLI

```sh
askgpt set-url https://api.openai.com/v1/chat/completions
askgpt set-model gpt-4o-mini
askgpt set-key sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

## ğŸ§ª Usage

### Basic Task

```sh
askgpt summarize
> The quick brown fox jumps over the lazy dog...
```

### Free-form Prompt

Treat the task name as your initial prompt:

```sh
askgpt "Explain quantum entanglement in simple terms"
> [Enter or use :paste for multi-line]
```

### View Current Config

```sh
askgpt show-config
```

### Multi-turn Conversation

After the first response, you can continue chatting:
- Type your next message
- Use `quit` to exit
- Empty lines are ignored

---

## ğŸ“ Input Tips

- **Single line**: Type and press `Enter`.
- **Multi-line**: End a line with `\` to continue.
- **Paste mode**: Type `:paste`, paste your content, then type `:end` on its own line.
- **Exit**: Type `quit` at any prompt.

---

## ğŸ” Security Notes

- Your API key is stored **only** in `~/.askgpt/config.yaml` with restrictive permissions (`rw-------`).
- The tool never logs or transmits your prompts beyond the configured API endpoint.
- Always use HTTPS endpoints.

---

## ğŸ›  Development

To build from source:

```sh
git clone https://github.com/abnerhexu/askgpt.git
cd askgpt
go build -o askgpt .
```

---

## ğŸ“œ License

GPLv3 License â€” see [LICENSE](LICENSE) for details.

---

## ğŸ™Œ Acknowledgements

- Uses [`gopkg.in/yaml.v3`](https://pkg.go.dev/gopkg.in/yaml.v3) for flexible YAML parsing.
- Inspired by tools like `curl`, `httpie`, and `chatgpt-cli`.
- This document is generated by Qwen3-Max.
---

> ğŸ’¡ Suggestions or bug reports? Please open an issue or submit a PR!